import{d as U,L as p,J as z,j as A,r as E,o as i,c as r,f as o,b as t,F as J,g as Y,e as d,p as T,z as H,t as s,$ as G,Y as S,a0 as K,k as O,a as f,a1 as P,q as Q,S as W,m as N,I as M}from"./index-61bbdb05.js";import{a as j}from"./index-65681188.js";import{_ as X}from"./Countdown.vue_vue_type_style_index_0_lang-e4ad450b.js";const Z={class:"overflow-x-auto mt-4"},tt={key:0,class:"table w-full",density:"compact"},et=t("thead",null,[t("tr",null,[t("th",{style:{position:"relative","z-index":"2"}},"Hash"),t("th",null,"Msgs"),t("th",null,"Memo")])],-1),st={class:"text-sm"},ot={key:1,class:"text-center"},lt=U({__name:"TxsElement",props:{value:{type:Array}},setup(g){const _=g,a=p(()=>{var c;return((c=_.value)==null?void 0:c.map(b=>({hash:G(S.fromBase64(b)),tx:K.decodeTxRaw(S.fromBase64(b))})))||[]}),x=z(),n=A();return(c,b)=>{const y=E("RouterLink");return i(),r("div",Z,[o(a).length>0?(i(),r("table",tt,[et,t("tbody",st,[(i(!0),r(J,null,Y(o(a),h=>(i(),r("tr",null,[t("td",null,[d(y,{to:`/${o(n).chainName}/tx/${h.hash}`,class:"#saved dark:invert"},{default:T(()=>[H(s(h.hash),1)]),_:2},1032,["to"])]),t("td",null,s(o(x).messages(h.tx.body.messages.map(v=>({"@type":v.typeUrl})))),1),t("td",null,s(h.tx.body.memo),1)]))),256))])])):(i(),r("div",ot,"No Transactions"))])}}}),at={key:0,class:"text-center"},nt={key:0},ct={class:"text-primary font-bold text-lg my-10"},it={class:"my-5"},rt={class:"text-xl font-bold"},ut={class:"pt-10 flex justify-center"},dt={class:"table w-max rounded-lg bg-customBlack"},ht={class:"text-right"},mt={class:"md:!ml-40"},_t={key:0},bt={colspan:"2",class:"text-center"},pt={class:"text-lg font-bold"},vt={class:"py-4"},kt={class:"join"},ft={class:"text-right"},gt={class:"text-right"},xt={class:"text-right"},yt={key:1},$t={class:"bg-customBlack px-4 pt-3 pb-4 rounded mb-4 shadow"},wt={class:"card-title flex flex-row justify-between"},Bt={class:""},Nt={key:0,class:"flex"},jt={class:"bg-customBlack px-4 pt-3 pb-4 rounded mb-4 shadow"},Tt={class:"card-title flex flex-row justify-between"},Ft={class:"bg-customBlack px-4 pt-3 pb-4 rounded mb-4 shadow"},Lt={class:"card-title flex flex-row justify-between"},Ct={class:"bg-customBlack px-4 pt-3 pb-4 rounded shadow"},Dt={class:"card-title flex flex-row justify-between"},Mt=U({__name:"[height]",props:["height","chain"],setup(g){const _=g,a=O(),x=z(),n=f({}),c=f(Number(_.height||0)),b=p(()=>{var e,l;return Number(((l=(e=n.value.block)==null?void 0:e.header)==null?void 0:l.height)||_.height||0)}),y=p({get:()=>{var u,m;const e=(m=(u=a.latest)==null?void 0:u.block)==null?void 0:m.header.height,l=e?c.value>Number(e):!0;return!l&&!n.value.block_id&&a.fetchBlock(c.value).then(k=>n.value=k),l},set:e=>{console.log(e)}}),h=p(()=>{var l,u;const e=(u=(l=a.latest)==null?void 0:l.block)==null?void 0:u.header.height;return e?Number(c.value)-Number(e):0}),v=p(()=>h.value*Number((a.blocktime/1e3).toFixed())*1e3),I=p(()=>new Date(new Date().getTime()+v.value)),$=f(!1),w=f(_.height);function q(){c.value=Number(w.value),console.log(c.value)}return P(async(e,l,u)=>{l.path!==e.path&&(a.fetchBlock(String(e.params.height)).then(m=>n.value=m),u())}),(e,l)=>{var m,k,F,L,C,D,R,V;const u=E("RouterLink");return i(),r("div",null,[o(y)?(i(),r("div",at,[o(h)>0?(i(),r("div",nt,[t("div",ct,"#"+s(c.value),1),d(X,{time:o(v),css:"md:!text-5xl font-sans md:mx-5"},null,8,["time"]),t("div",it,[H(s(e.$t("block.estimated_time"))+": ",1),t("span",rt,s(o(x).toLocaleDate(o(I))),1)]),t("div",ut,[t("table",dt,[t("tbody",null,[t("tr",{class:"hover cursor-pointer",onClick:l[0]||(l[0]=B=>$.value=!$.value)},[t("td",null,s(e.$t("block.countdown_for_block"))+":",1),t("td",ht,[t("span",mt,s(c.value),1)])]),$.value?(i(),r("tr",_t,[t("td",bt,[t("h3",pt,s(e.$t("block.countdown_for_block_input")),1),t("p",vt,[t("div",kt,[Q(t("input",{class:"input input-bordered join-item","onUpdate:modelValue":l[1]||(l[1]=B=>w.value=B),type:"number"},null,512),[[W,w.value]]),t("button",{class:"btn btn-primary join-item",onClick:l[2]||(l[2]=B=>q())},s(e.$t("block.btn_update")),1)])])])])):N("",!0),t("tr",null,[t("td",null,s(e.$t("block.current_height"))+":",1),t("td",ft,"#"+s((k=(m=o(a).latest)==null?void 0:m.block)==null?void 0:k.header.height),1)]),t("tr",null,[t("td",null,s(e.$t("block.remaining_blocks"))+":",1),t("td",gt,s(o(h)),1)]),t("tr",null,[t("td",null,s(e.$t("block.average_block_time"))+":",1),t("td",xt,s((o(a).blocktime/1e3).toFixed(1))+"s",1)])])])])])):N("",!0)])):(i(),r("div",yt,[t("div",$t,[t("h2",wt,[t("p",Bt,"#"+s((L=(F=n.value.block)==null?void 0:F.header)==null?void 0:L.height),1),_.height?(i(),r("div",Nt,[d(u,{to:`/${o(a).blockchain.chainName}/block/${o(b)-1}`,class:"btn btn-primary btn-sm p-1 text-2xl mr-2"},{default:T(()=>[d(o(M),{icon:"mdi-arrow-left",class:"w-full h-full"})]),_:1},8,["to"]),d(u,{to:`/${o(a).blockchain.chainName}/block/${o(b)+1}`,class:"btn btn-primary btn-sm p-1 text-2xl"},{default:T(()=>[d(o(M),{icon:"mdi-arrow-right",class:"w-full h-full"})]),_:1},8,["to"])])):N("",!0)]),t("div",null,[d(j,{value:n.value.block_id},null,8,["value"])])]),t("div",jt,[t("h2",Tt,s(e.$t("block.block_header")),1),d(j,{value:(C=n.value.block)==null?void 0:C.header},null,8,["value"])]),t("div",Ft,[t("h2",Lt,s(e.$t("account.transactions")),1),d(lt,{value:(R=(D=n.value.block)==null?void 0:D.data)==null?void 0:R.txs},null,8,["value"])]),t("div",Ct,[t("h2",Dt,s(e.$t("block.last_commit")),1),d(j,{value:(V=n.value.block)==null?void 0:V.last_commit},null,8,["value"])])]))])}}});export{Mt as default};
